% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  12,
  letterpaper,
  DIV=11,
  numbers=noendperiod]{scrartcl}

\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else  
    % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
% Make \paragraph and \subparagraph free-standing
\makeatletter
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}{
    \@ifstar
      \xxxParagraphStar
      \xxxParagraphNoStar
  }
  \newcommand{\xxxParagraphStar}[1]{\oldparagraph*{#1}\mbox{}}
  \newcommand{\xxxParagraphNoStar}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}{
    \@ifstar
      \xxxSubParagraphStar
      \xxxSubParagraphNoStar
  }
  \newcommand{\xxxSubParagraphStar}[1]{\oldsubparagraph*{#1}\mbox{}}
  \newcommand{\xxxSubParagraphNoStar}[1]{\oldsubparagraph{#1}\mbox{}}
\fi
\makeatother

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{241,243,245}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.40,0.45,0.13}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\ExtensionTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.28,0.35,0.67}{#1}}
\newcommand{\ImportTok}[1]{\textcolor[rgb]{0.00,0.46,0.62}{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.07,0.07,0.07}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother

\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{multirow}
\usepackage{wrapfig}
\usepackage{float}
\usepackage{colortbl}
\usepackage{pdflscape}
\usepackage{tabu}
\usepackage{threeparttable}
\usepackage{threeparttablex}
\usepackage[normalem]{ulem}
\usepackage{makecell}
\usepackage{xcolor}
\usepackage{tabularray}
\usepackage[normalem]{ulem}
\usepackage{graphicx}
\UseTblrLibrary{booktabs}
\UseTblrLibrary{rotating}
\UseTblrLibrary{siunitx}
\NewTableCommand{\tinytableDefineColor}[3]{\definecolor{#1}{#2}{#3}}
\newcommand{\tinytableTabularrayUnderline}[1]{\underline{#1}}
\newcommand{\tinytableTabularrayStrikeout}[1]{\sout{#1}}
\usepackage{fvextra}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{breaklines,commandchars=\\\{\}}
\DefineVerbatimEnvironment{OutputCode}{Verbatim}{breaklines,commandchars=\\\{\}}
\KOMAoption{captions}{tableheading}
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\usetikzlibrary{plotmarks}
\usetikzlibrary{arrows.meta}
\usepgfplotslibrary{patchplots}
\usepackage{grffile}
\usepackage{caption}
\usepackage[utf8]{inputenc}
\usepackage[doublespacing]{setspace}
\AtBeginEnvironment{tabular}{\singlespacing}
\usepackage{float}
\usepackage{multirow}
\usepackage{tablefootnote}
\usepackage{pifont}
\usepackage{newunicodechar}
\usepackage{booktabs}
\usepackage{siunitx}
\newcolumntype{d}{ S[input-open-uncertainty=, input-close-uncertainty=, parse-numbers = false, table-align-text-pre=false, table-align-text-post=false]}
\usepackage{tabularx}
\newunicodechar{✓}{\ding{51}}
\usepackage{longtable}
\usepackage{array}
\usepackage{wrapfig}
\usepackage{colortbl}
\usepackage{pdflscape}
\usepackage{tabu}
\usepackage{threeparttable}
\usepackage{threeparttablex}
\usepackage[normalem]{ulem}
\usepackage{makecell}
\usepackage{xcolor}
\usepackage{graphicx}
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother

\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage{bookmark}

\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Complementarity in Alliances - logfile},
  pdfauthor={J Andrés Gannon},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}


\title{\singlespace Complementarity in Alliances - logfile}
\author{J Andrés Gannon}
\date{}

\begin{document}
\maketitle


This log file was last compiled on 2025-02-20 using the following
system:

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\FunctionTok{Sys.info}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
                                                      sysname 
                                                      "Linux" 
                                                      release 
                                          "6.11.0-18-generic" 
                                                      version 
"#18-Ubuntu SMP PREEMPT_DYNAMIC Fri Feb  7 22:34:25 UTC 2025" 
                                                     nodename 
                                                      "fuego" 
                                                      machine 
                                                     "x86_64" 
                                                        login 
                                              "andres-gannon" 
                                                         user 
                                              "andres-gannon" 
                                               effective_user 
                                              "andres-gannon" 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\FunctionTok{sessionInfo}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
R version 4.4.2 (2024-10-31)
Platform: x86_64-pc-linux-gnu
Running under: Ubuntu 24.10

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.12.0 
LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.12.0

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

time zone: America/Chicago
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached):
 [1] compiler_4.4.2    fastmap_1.2.0     cli_3.6.3         tools_4.4.2      
 [5] htmltools_0.5.8.1 rstudioapi_0.17.1 yaml_2.3.10       rmarkdown_2.29   
 [9] knitr_1.49        jsonlite_1.8.9    xfun_0.50         digest_0.6.37    
[13] rlang_1.1.5       evaluate_1.0.3   
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\FunctionTok{library}\NormalTok{(knitr)}
\FunctionTok{library}\NormalTok{(kableExtra)}
\FunctionTok{library}\NormalTok{(ggplot2)}
\FunctionTok{library}\NormalTok{(ggtext)}
\FunctionTok{library}\NormalTok{(magrittr)}
\FunctionTok{library}\NormalTok{(rstan)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Loading required package: StanHeaders
\end{verbatim}

\begin{verbatim}

rstan version 2.32.6 (Stan version 2.32.2)
\end{verbatim}

\begin{verbatim}
For execution on a local, multicore CPU with excess RAM we recommend calling
options(mc.cores = parallel::detectCores()).
To avoid recompilation of unchanged Stan programs, we recommend calling
rstan_options(auto_write = TRUE)
For within-chain threading using `reduce_sum()` or `map_rect()` Stan functions,
change `threads_per_chain` option:
rstan_options(threads_per_chain = 1)
\end{verbatim}

\begin{verbatim}

Attaching package: 'rstan'
\end{verbatim}

\begin{verbatim}
The following object is masked from 'package:magrittr':

    extract
\end{verbatim}

\subsection{Load data}\label{load-data}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\NormalTok{df\_raw }\OtherTok{\textless{}{-}} \FunctionTok{readRDS}\NormalTok{(}\AttributeTok{file =} \FunctionTok{paste0}\NormalTok{(here}\SpecialCharTok{::}\FunctionTok{here}\NormalTok{(), }\StringTok{"/data/rDMC\_raw\_v1.rds"}\NormalTok{))}
\NormalTok{df\_long }\OtherTok{\textless{}{-}} \FunctionTok{readRDS}\NormalTok{(}\AttributeTok{file =} \FunctionTok{paste0}\NormalTok{(here}\SpecialCharTok{::}\FunctionTok{here}\NormalTok{(), }\StringTok{"/data/rDMC\_long\_v1.rds"}\NormalTok{))}
\NormalTok{df\_wide }\OtherTok{\textless{}{-}} \FunctionTok{readRDS}\NormalTok{(}\AttributeTok{file =} \FunctionTok{paste0}\NormalTok{(here}\SpecialCharTok{::}\FunctionTok{here}\NormalTok{(), }\StringTok{"/data/rDMC\_wide\_v1.rds"}\NormalTok{))}

\NormalTok{df }\OtherTok{\textless{}{-}} \FunctionTok{readRDS}\NormalTok{(}\AttributeTok{file =} \FunctionTok{paste0}\NormalTok{(here}\SpecialCharTok{::}\FunctionTok{here}\NormalTok{(), }\StringTok{"/data/03\_df{-}full.rds"}\NormalTok{))}

\NormalTok{df\_m1 }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{rename}\NormalTok{(}\AttributeTok{dv =}\NormalTok{ dol\_nicheolap,}
                \AttributeTok{strcomp =}\NormalTok{ strcomp\_cinc\_total\_scaled,}
                \AttributeTok{hier =}\NormalTok{ hier\_laplace\_scaled)}
\end{Highlighting}
\end{Shaded}

\newpage

\subsection{Figure 1}\label{figure-1}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\CommentTok{\# ANZUS = 3215 and CSTO = 4220}

\NormalTok{df }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{ggplot}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ dol\_nicheolap)) }\SpecialCharTok{+}
  \FunctionTok{geom\_histogram}\NormalTok{(}\AttributeTok{bins =} \DecValTok{30}\NormalTok{, }\AttributeTok{color =} \StringTok{"black"}\NormalTok{, }\AttributeTok{fill =} \StringTok{"gray"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_vline}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{xintercept =} \FunctionTok{mean}\NormalTok{(dol\_nicheolap, }\AttributeTok{na.rm =} \ConstantTok{TRUE}\NormalTok{)), }
             \AttributeTok{linetype =} \StringTok{"dashed"}\NormalTok{, }\AttributeTok{linewidth =} \DecValTok{1}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{annotate}\NormalTok{(}\StringTok{"text"}\NormalTok{,}
           \AttributeTok{x =} \FunctionTok{mean}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{dol\_nicheolap, }\AttributeTok{na.rm =} \ConstantTok{TRUE}\NormalTok{) }\SpecialCharTok{+} \FloatTok{0.075}\NormalTok{,}
           \AttributeTok{y =} \DecValTok{200}\NormalTok{,}
           \AttributeTok{size =} \DecValTok{2}\NormalTok{,}
           \AttributeTok{label =} \FunctionTok{paste}\NormalTok{(}\StringTok{"Mean ="}\NormalTok{, }\FunctionTok{round}\NormalTok{(}\FunctionTok{mean}\NormalTok{(df}\SpecialCharTok{$}\NormalTok{dol\_nicheolap, }\AttributeTok{na.rm =} \ConstantTok{TRUE}\NormalTok{), }\DecValTok{2}\NormalTok{))) }\SpecialCharTok{+}
\NormalTok{  geomtextpath}\SpecialCharTok{::}\FunctionTok{geom\_labelvline}\NormalTok{(}\AttributeTok{xintercept =} \FloatTok{0.57}\NormalTok{, }\AttributeTok{label =} \StringTok{"ANZUS (2002)"}\NormalTok{, }\AttributeTok{linetype =} \DecValTok{3}\NormalTok{, }\AttributeTok{hjust =} \FloatTok{0.55}\NormalTok{, }\AttributeTok{size =} \DecValTok{2}\NormalTok{) }\SpecialCharTok{+}
\NormalTok{  geomtextpath}\SpecialCharTok{::}\FunctionTok{geom\_labelvline}\NormalTok{(}\AttributeTok{xintercept =} \FloatTok{0.063}\NormalTok{, }\AttributeTok{label =} \StringTok{"CSTO (2002)"}\NormalTok{, }\AttributeTok{linetype =} \DecValTok{3}\NormalTok{, }\AttributeTok{hjust =} \FloatTok{0.55}\NormalTok{, }\AttributeTok{size =} \DecValTok{2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{breaks =}\NormalTok{ scales}\SpecialCharTok{::}\FunctionTok{pretty\_breaks}\NormalTok{()) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{title =} \StringTok{""}\NormalTok{,}
       \AttributeTok{x =} \StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{Division of labor"}\NormalTok{,}
       \AttributeTok{y =} \StringTok{"Number of observations}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_classic}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{text =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{10}\NormalTok{),}
        \AttributeTok{axis.text =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{color =} \StringTok{"black"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Warning in geomtextpath::geom_labelvline(xintercept = 0.57, label = "ANZUS (2002)", : All aesthetics have length 1, but the data has 2511 rows.
i Please consider using `annotate()` or provide this layer with data containing
  a single row.
\end{verbatim}

\begin{verbatim}
Warning in geomtextpath::geom_labelvline(xintercept = 0.063, label = "CSTO (2002)", : All aesthetics have length 1, but the data has 2511 rows.
i Please consider using `annotate()` or provide this layer with data containing
  a single row.
\end{verbatim}

\begin{verbatim}
Warning: Removed 111 rows containing non-finite outside the scale range
(`stat_bin()`).
\end{verbatim}

\includegraphics{DoDL_replication_files/figure-pdf/fig1-1.png}

\newpage

\subsection{Figure 2}\label{figure-2}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\CommentTok{\# US{-}Japan (3375)}

\NormalTok{df }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{filter}\NormalTok{(atopid }\SpecialCharTok{==} \DecValTok{3375}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(year, dol\_nicheolap, strcomp\_cinc\_total) }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{ggplot}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{y =}\NormalTok{ strcomp\_cinc\_total, }\AttributeTok{x =}\NormalTok{ year)) }\SpecialCharTok{+}
  \FunctionTok{geom\_line}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{breaks =} \FunctionTok{seq}\NormalTok{(}\DecValTok{1970}\NormalTok{, }\DecValTok{2015}\NormalTok{, }\DecValTok{5}\NormalTok{), }\AttributeTok{minor\_breaks =} \ConstantTok{NULL}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_classic}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{y =} \StringTok{"Strategic compatibility}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{,}
       \AttributeTok{x =} \StringTok{""}\NormalTok{,}
       \AttributeTok{title =} \StringTok{""}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{text =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{10}\NormalTok{),}
        \AttributeTok{axis.text =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{color =} \StringTok{"black"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\includegraphics{DoDL_replication_files/figure-pdf/fig2-1.png}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\NormalTok{shared }\OtherTok{\textless{}{-}} \FunctionTok{readRDS}\NormalTok{(}\AttributeTok{file =} \FunctionTok{paste0}\NormalTok{(here}\SpecialCharTok{::}\FunctionTok{here}\NormalTok{(), }\StringTok{\textquotesingle{}/data/dyad\_threat.rds\textquotesingle{}}\NormalTok{)) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{filter}\NormalTok{(year }\SpecialCharTok{==} \DecValTok{1995} \SpecialCharTok{\&}\NormalTok{ ccode1 }\SpecialCharTok{\%in\%} \FunctionTok{c}\NormalTok{(}\DecValTok{2}\NormalTok{, }\DecValTok{740}\NormalTok{) }\SpecialCharTok{\&}\NormalTok{ threatenviro }\SpecialCharTok{==} \DecValTok{1}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(ccode1, rival, threatenviro, cinc2) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{threat\_ccode1 =}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{if\_else}\NormalTok{(ccode1 }\SpecialCharTok{==} \DecValTok{2} \SpecialCharTok{\&}\NormalTok{ threatenviro }\SpecialCharTok{==} \DecValTok{1}\NormalTok{, cinc2, }\DecValTok{0}\NormalTok{),}
                \AttributeTok{threat\_ccode2 =}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{if\_else}\NormalTok{(ccode1 }\SpecialCharTok{==} \DecValTok{740} \SpecialCharTok{\&}\NormalTok{ threatenviro }\SpecialCharTok{==} \DecValTok{1}\NormalTok{, cinc2, }\DecValTok{0}\NormalTok{)) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{filter}\NormalTok{(threat\_ccode1 }\SpecialCharTok{\textgreater{}} \DecValTok{0} \SpecialCharTok{|}\NormalTok{ threat\_ccode2 }\SpecialCharTok{\textgreater{}} \DecValTok{0}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(}\SpecialCharTok{{-}}\NormalTok{ccode1, }\SpecialCharTok{{-}}\NormalTok{threatenviro) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  tidyr}\SpecialCharTok{::}\FunctionTok{pivot\_longer}\NormalTok{(}\AttributeTok{cols =} \FunctionTok{c}\NormalTok{(threat\_ccode1, threat\_ccode2)) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{filter}\NormalTok{(value }\SpecialCharTok{\textgreater{}} \DecValTok{0}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  tidyr}\SpecialCharTok{::}\FunctionTok{pivot\_wider}\NormalTok{(}\AttributeTok{id\_cols =}\NormalTok{ rival, }\AttributeTok{names\_from =}\NormalTok{ name) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{threat\_shared =}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{if\_else}\NormalTok{(threat\_ccode1 }\SpecialCharTok{\textgreater{}} \DecValTok{0} \SpecialCharTok{\&}\NormalTok{ threat\_ccode2 }\SpecialCharTok{\textgreater{}} \DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{),}
\NormalTok{                dplyr}\SpecialCharTok{::}\FunctionTok{across}\NormalTok{(dplyr}\SpecialCharTok{::}\FunctionTok{everything}\NormalTok{(), }\SpecialCharTok{\textasciitilde{}}\NormalTok{tidyr}\SpecialCharTok{::}\FunctionTok{replace\_na}\NormalTok{(.x, }\DecValTok{0}\NormalTok{)))}
\end{Highlighting}
\end{Shaded}

\newpage

\subsection{Figure 3}\label{figure-3}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\NormalTok{network }\OtherTok{\textless{}{-}} \FunctionTok{readRDS}\NormalTok{(}\FunctionTok{paste0}\NormalTok{(here}\SpecialCharTok{::}\FunctionTok{here}\NormalTok{(), }\StringTok{"/data/sipri\_dyad{-}year.rds"}\NormalTok{)) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{filter}\NormalTok{(year }\SpecialCharTok{==} \DecValTok{1975}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(ccode1, ccode2, value)}

\NormalTok{sipri }\OtherTok{\textless{}{-}} \FunctionTok{readRDS}\NormalTok{(}\FunctionTok{paste0}\NormalTok{(here}\SpecialCharTok{::}\FunctionTok{here}\NormalTok{(), }\StringTok{"/data/sipri\_dyad{-}year.rds"}\NormalTok{)) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{filter}\NormalTok{(year }\SpecialCharTok{==} \DecValTok{1975}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(ccode1, ccode2, value) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{rename}\NormalTok{(}\AttributeTok{weight =}\NormalTok{ value) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  igraph}\SpecialCharTok{::}\FunctionTok{graph\_from\_data\_frame}\NormalTok{(}\AttributeTok{directed =} \ConstantTok{TRUE}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  centiserve}\SpecialCharTok{::}\FunctionTok{laplacian}\NormalTok{(}\AttributeTok{mode =} \StringTok{"out"}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{as.data.frame}\NormalTok{() }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{rename}\NormalTok{(}\AttributeTok{laplace =} \DecValTok{1}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  tibble}\SpecialCharTok{::}\FunctionTok{rownames\_to\_column}\NormalTok{(}\AttributeTok{var =} \StringTok{"ccode"}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{ccode =} \FunctionTok{as.integer}\NormalTok{(ccode))}

\NormalTok{nato }\OtherTok{\textless{}{-}}\NormalTok{ rio}\SpecialCharTok{::}\FunctionTok{import}\NormalTok{(}\FunctionTok{paste0}\NormalTok{(here}\SpecialCharTok{::}\FunctionTok{here}\NormalTok{(), }\StringTok{"/inst/extdata/ATOP/atop5\_1m.csv"}\NormalTok{)) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{filter}\NormalTok{(yrexit }\SpecialCharTok{\textgreater{}} \DecValTok{1970} \SpecialCharTok{|}
\NormalTok{                  yrexit }\SpecialCharTok{==} \DecValTok{0}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{yrexit =}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{if\_else}\NormalTok{(yrexit }\SpecialCharTok{==} \DecValTok{0}\NormalTok{,}
                                        \DecValTok{2023}\NormalTok{,}
\NormalTok{                                        yrexit)) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(atopid, member, yrent, yrexit) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{distinct}\NormalTok{() }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{row =}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{row\_number}\NormalTok{()) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{group\_by}\NormalTok{(row, atopid, member) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{reframe}\NormalTok{(}\AttributeTok{year =} \FunctionTok{seq}\NormalTok{(yrent, yrexit)) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{ungroup}\NormalTok{() }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(}\SpecialCharTok{{-}}\NormalTok{row) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{rename}\NormalTok{(}\AttributeTok{ccode =} \StringTok{\textquotesingle{}member\textquotesingle{}}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{filter}\NormalTok{(year }\SpecialCharTok{==} \DecValTok{1975} \SpecialCharTok{\&}\NormalTok{ atopid }\SpecialCharTok{==} \DecValTok{3180}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{distinct}\NormalTok{() }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(}\SpecialCharTok{{-}}\NormalTok{atopid, }\SpecialCharTok{{-}}\NormalTok{year) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{nato =} \DecValTok{1}\NormalTok{)}

\DocumentationTok{\#\# Network plot}
\FunctionTok{library}\NormalTok{(igraph)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Attaching package: 'igraph'
\end{verbatim}

\begin{verbatim}
The following objects are masked from 'package:stats':

    decompose, spectrum
\end{verbatim}

\begin{verbatim}
The following object is masked from 'package:base':

    union
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\FunctionTok{library}\NormalTok{(ggraph)}
\FunctionTok{library}\NormalTok{(tidygraph)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}

Attaching package: 'tidygraph'
\end{verbatim}

\begin{verbatim}
The following object is masked from 'package:igraph':

    groups
\end{verbatim}

\begin{verbatim}
The following object is masked from 'package:stats':

    filter
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\NormalTok{edgelist }\OtherTok{\textless{}{-}}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{left\_join}\NormalTok{(network, nato, }\AttributeTok{by =} \FunctionTok{c}\NormalTok{(}\StringTok{"ccode1"} \OtherTok{=} \StringTok{"ccode"}\NormalTok{)) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{rename}\NormalTok{(}\AttributeTok{nato\_sender =}\NormalTok{ nato) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{left\_join}\NormalTok{(., nato, }\AttributeTok{by =} \FunctionTok{c}\NormalTok{(}\StringTok{"ccode2"} \OtherTok{=} \StringTok{"ccode"}\NormalTok{)) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{rename}\NormalTok{(}\AttributeTok{nato\_receiver =}\NormalTok{ nato) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{filter}\NormalTok{(nato\_sender }\SpecialCharTok{==} \DecValTok{1} \SpecialCharTok{\&}\NormalTok{ nato\_receiver }\SpecialCharTok{==} \DecValTok{1}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(}\SpecialCharTok{!}\NormalTok{dplyr}\SpecialCharTok{::}\FunctionTok{starts\_with}\NormalTok{(}\StringTok{"nato\_"}\NormalTok{)) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{cown1 =}\NormalTok{ countrycode}\SpecialCharTok{::}\FunctionTok{countrycode}\NormalTok{(ccode1, }\AttributeTok{origin =} \StringTok{"cown"}\NormalTok{, }\AttributeTok{destination =} \StringTok{"cowc"}\NormalTok{),}
                \AttributeTok{cown1 =}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{if\_else}\NormalTok{(ccode1 }\SpecialCharTok{==} \DecValTok{260}\NormalTok{, }\StringTok{"GFR"}\NormalTok{, cown1),}
                \AttributeTok{cown2 =}\NormalTok{ countrycode}\SpecialCharTok{::}\FunctionTok{countrycode}\NormalTok{(ccode2, }\AttributeTok{origin =} \StringTok{"cown"}\NormalTok{, }\AttributeTok{destination =} \StringTok{"cowc"}\NormalTok{),}
                \AttributeTok{cown2 =}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{if\_else}\NormalTok{(ccode2 }\SpecialCharTok{==} \DecValTok{260}\NormalTok{, }\StringTok{"GFR"}\NormalTok{, cown2)) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(cown1, cown2, value)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Warning: There were 2 warnings in `dplyr::mutate()`.
The first warning was:
i In argument: `cown1 = countrycode::countrycode(ccode1, origin = "cown",
  destination = "cowc")`.
Caused by warning:
! Some values were not matched unambiguously: 260
i Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\NormalTok{network }\OtherTok{\textless{}{-}}\NormalTok{ igraph}\SpecialCharTok{::}\FunctionTok{graph\_from\_data\_frame}\NormalTok{(edgelist, }\AttributeTok{directed =} \ConstantTok{TRUE}\NormalTok{)}
\NormalTok{tbl\_graph }\OtherTok{\textless{}{-}}\NormalTok{ tidygraph}\SpecialCharTok{::}\FunctionTok{as\_tbl\_graph}\NormalTok{(network)}

\FunctionTok{ggraph}\NormalTok{(tbl\_graph,}
       \AttributeTok{layout =} \StringTok{\textquotesingle{}linear\textquotesingle{}}\NormalTok{,}
       \AttributeTok{circular =} \ConstantTok{TRUE}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_edge\_fan}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{edge\_alpha =} \FunctionTok{log}\NormalTok{(value }\SpecialCharTok{+} \DecValTok{1}\NormalTok{),}
                    \AttributeTok{edge\_width =}\NormalTok{ value), }
                \AttributeTok{arrow =} \FunctionTok{arrow}\NormalTok{(}\AttributeTok{length =} \FunctionTok{unit}\NormalTok{(}\DecValTok{2}\NormalTok{, }\StringTok{"mm"}\NormalTok{)), }
                \AttributeTok{start\_cap =} \FunctionTok{circle}\NormalTok{(}\DecValTok{4}\NormalTok{, }\StringTok{\textquotesingle{}mm\textquotesingle{}}\NormalTok{),}
                \AttributeTok{end\_cap =} \FunctionTok{circle}\NormalTok{(}\DecValTok{8}\NormalTok{, }\StringTok{\textquotesingle{}mm\textquotesingle{}}\NormalTok{),}
                \AttributeTok{show.legend =} \ConstantTok{FALSE}\NormalTok{,) }\SpecialCharTok{+}
  \FunctionTok{geom\_node\_label}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{label =}\NormalTok{ name),}
                 \AttributeTok{size =} \DecValTok{5}\NormalTok{,}
                 \AttributeTok{repel =} \ConstantTok{FALSE}\NormalTok{,}
                 \AttributeTok{color =} \StringTok{\textquotesingle{}dodgerblue\textquotesingle{}}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_edge\_width}\NormalTok{(}\AttributeTok{range =} \FunctionTok{c}\NormalTok{(}\FloatTok{0.5}\NormalTok{, }\FloatTok{1.5}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{scale\_edge\_alpha}\NormalTok{(}\StringTok{\textquotesingle{}Edge direction\textquotesingle{}}\NormalTok{,}
                   \AttributeTok{guide =} \StringTok{\textquotesingle{}edge\_direction\textquotesingle{}}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{expand =} \FunctionTok{expansion}\NormalTok{(}\AttributeTok{mult =}\NormalTok{ .}\DecValTok{1}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{theme\_void}\NormalTok{()}
\DocumentationTok{\#\# Bar plot}
\NormalTok{dplyr}\SpecialCharTok{::}\FunctionTok{left\_join}\NormalTok{(nato, sipri) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(}\SpecialCharTok{{-}}\NormalTok{nato) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{cname =}\NormalTok{ countrycode}\SpecialCharTok{::}\FunctionTok{countrycode}\NormalTok{(ccode, }\AttributeTok{origin =} \StringTok{"cown"}\NormalTok{, }\AttributeTok{destination =} \StringTok{"country.name"}\NormalTok{),}
                \AttributeTok{cname =}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{if\_else}\NormalTok{(ccode }\SpecialCharTok{==} \DecValTok{260}\NormalTok{, }\StringTok{"West Germany"}\NormalTok{, cname)) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{arrange}\NormalTok{(laplace) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{cname =} \FunctionTok{factor}\NormalTok{(cname, }\AttributeTok{levels =}\NormalTok{ cname)) }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{ggplot}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ laplace,}
             \AttributeTok{y =}\NormalTok{ cname)) }\SpecialCharTok{+}
  \FunctionTok{geom\_segment}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{xend =} \DecValTok{0}\NormalTok{, }\AttributeTok{yend =}\NormalTok{ cname)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{size =} \DecValTok{3}\NormalTok{, }\AttributeTok{color =} \StringTok{"dodgerblue"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{title =} \StringTok{""}\NormalTok{,}
       \AttributeTok{x =} \StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{Laplacian entropy"}\NormalTok{,}
       \AttributeTok{y =} \StringTok{""}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{labels =}\NormalTok{ scales}\SpecialCharTok{::}\FunctionTok{label\_comma}\NormalTok{()) }\SpecialCharTok{+}
  \FunctionTok{theme\_classic}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{text =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{14}\NormalTok{),}
        \AttributeTok{axis.text =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{color =} \StringTok{"black"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Joining with `by = join_by(ccode)`
\end{verbatim}

\begin{verbatim}
Warning: There was 1 warning in `dplyr::mutate()`.
i In argument: `cname = countrycode::countrycode(ccode, origin = "cown",
  destination = "country.name")`.
Caused by warning:
! Some values were not matched unambiguously: 260
\end{verbatim}

\begin{figure}

\begin{minipage}{0.50\linewidth}
\includegraphics{DoDL_replication_files/figure-pdf/fig3-1.png}\end{minipage}%
%
\begin{minipage}{0.50\linewidth}
\includegraphics{DoDL_replication_files/figure-pdf/fig3-2.png}\end{minipage}%

\end{figure}%

\newpage

\subsection{Table 1}\label{table-1}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\NormalTok{df\_m1 }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{rename}\NormalTok{(}\AttributeTok{dv =}\NormalTok{ dol\_nicheolap,}
                \AttributeTok{strcomp =}\NormalTok{ strcomp\_cinc\_total\_scaled,}
                \AttributeTok{hier =}\NormalTok{ hier\_laplace\_scaled)}

\NormalTok{models }\OtherTok{\textless{}{-}} \FunctionTok{list}\NormalTok{(fixest}\SpecialCharTok{::}\FunctionTok{feols}\NormalTok{(dv }\SpecialCharTok{\textasciitilde{}}\NormalTok{ strcomp }\SpecialCharTok{+}\NormalTok{ hier }\SpecialCharTok{+} 
\NormalTok{                               year\_norm }\SpecialCharTok{+}\NormalTok{ year\_sq }\SpecialCharTok{+}\NormalTok{ year\_cube, }
                             \AttributeTok{cluster =} \StringTok{"atopid"}\NormalTok{, }
                             \AttributeTok{data =}\NormalTok{ df\_m1),}
\NormalTok{               fixest}\SpecialCharTok{::}\FunctionTok{feols}\NormalTok{(dv }\SpecialCharTok{\textasciitilde{}}\NormalTok{ strcomp }\SpecialCharTok{+}\NormalTok{ hier }\SpecialCharTok{+}\NormalTok{ milinst }\SpecialCharTok{+}\NormalTok{ demo\_polityprop }\SpecialCharTok{+}\NormalTok{ dist\_contigprop }\SpecialCharTok{+}\NormalTok{ dist\_maxlog }\SpecialCharTok{+}\NormalTok{ rivals\_log }\SpecialCharTok{+}\NormalTok{ members\_log }\SpecialCharTok{+}\NormalTok{ allianceage\_avg }\SpecialCharTok{+} 
\NormalTok{                               year\_norm }\SpecialCharTok{+}\NormalTok{ year\_sq }\SpecialCharTok{+}\NormalTok{ year\_cube, }
                             \AttributeTok{cluster =} \StringTok{"atopid"}\NormalTok{, }
                             \AttributeTok{data =}\NormalTok{ df\_m1),}
\NormalTok{               fixest}\SpecialCharTok{::}\FunctionTok{feols}\NormalTok{(dv }\SpecialCharTok{\textasciitilde{}}\NormalTok{ strcomp }\SpecialCharTok{+}\NormalTok{ hier }
                             \SpecialCharTok{|}\NormalTok{ year\_norm, }
                             \AttributeTok{cluster =} \StringTok{"atopid"}\NormalTok{, }
                             \AttributeTok{data =}\NormalTok{ df\_m1),}
\NormalTok{               fixest}\SpecialCharTok{::}\FunctionTok{feols}\NormalTok{(dv }\SpecialCharTok{\textasciitilde{}}\NormalTok{ strcomp }\SpecialCharTok{+}\NormalTok{ hier }\SpecialCharTok{+}\NormalTok{ milinst }\SpecialCharTok{+}\NormalTok{ demo\_polityprop }\SpecialCharTok{+}\NormalTok{ dist\_contigprop }\SpecialCharTok{+}\NormalTok{ dist\_maxlog }\SpecialCharTok{+}\NormalTok{ rivals\_log }\SpecialCharTok{+}\NormalTok{ members\_log }\SpecialCharTok{+}\NormalTok{ allianceage\_avg }
                             \SpecialCharTok{|}\NormalTok{ year\_norm, }
                             \AttributeTok{cluster =} \StringTok{"atopid"}\NormalTok{, }
                             \AttributeTok{data =}\NormalTok{ df\_m1),}
\NormalTok{               lmerTest}\SpecialCharTok{::}\FunctionTok{lmer}\NormalTok{(dv }\SpecialCharTok{\textasciitilde{}}\NormalTok{ strcomp }\SpecialCharTok{+}\NormalTok{ hier }\SpecialCharTok{+}
\NormalTok{                                (}\DecValTok{1} \SpecialCharTok{|}\NormalTok{ year\_norm),}
                              \AttributeTok{data =}\NormalTok{ df\_m1),}
\NormalTok{               lmerTest}\SpecialCharTok{::}\FunctionTok{lmer}\NormalTok{(dv }\SpecialCharTok{\textasciitilde{}}\NormalTok{ strcomp }\SpecialCharTok{+}\NormalTok{ hier }\SpecialCharTok{+}\NormalTok{ milinst }\SpecialCharTok{+}\NormalTok{ demo\_polityprop }\SpecialCharTok{+}\NormalTok{ dist\_contigprop }\SpecialCharTok{+}\NormalTok{ dist\_maxlog }\SpecialCharTok{+}\NormalTok{ rivals\_log }\SpecialCharTok{+}\NormalTok{ members\_log }\SpecialCharTok{+}\NormalTok{ allianceage\_avg }\SpecialCharTok{+}
\NormalTok{                                (}\DecValTok{1} \SpecialCharTok{|}\NormalTok{ year\_norm),}
                              \AttributeTok{data =}\NormalTok{ df\_m1))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
NOTE: 113 observations removed because of NA values (LHS: 111, RHS: 3).
\end{verbatim}

\begin{verbatim}
NOTE: 231 observations removed because of NA values (LHS: 111, RHS: 156).
\end{verbatim}

\begin{verbatim}
NOTE: 113 observations removed because of NA values (LHS: 111, RHS: 3).
\end{verbatim}

\begin{verbatim}
NOTE: 231 observations removed because of NA values (LHS: 111, RHS: 156).
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\NormalTok{coefs }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\StringTok{"strcomp"} \OtherTok{=} \StringTok{"Strategic compatibility"}\NormalTok{,}
           \StringTok{"hier"} \OtherTok{=} \StringTok{"Hierarchy"}\NormalTok{,}
           \StringTok{"milinst"} \OtherTok{=} \StringTok{"Alliance institutionalization"}\NormalTok{,}
           \StringTok{"demo\_polityprop"} \OtherTok{=} \StringTok{"Democracy ratio"}\NormalTok{,}
           \StringTok{"dist\_contigprop"} \OtherTok{=} \StringTok{"Contiguity ratio"}\NormalTok{,}
           \StringTok{"dist\_maxlog"} \OtherTok{=} \StringTok{"Maximum distance (log)"}\NormalTok{,}
           \StringTok{"rivals\_log"} \OtherTok{=} \StringTok{"Number of rivals (log)"}\NormalTok{,}
           \StringTok{"members\_log"} \OtherTok{=} \StringTok{"Number of members (log)"}\NormalTok{,}
           \StringTok{"allianceage\_avg"} \OtherTok{=} \StringTok{"Alliance age (average)"}\NormalTok{)}

\NormalTok{modelsummary}\SpecialCharTok{::}\FunctionTok{modelsummary}\NormalTok{(models, }
                           \AttributeTok{stars =} \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}+\textquotesingle{}} \OtherTok{=}\NormalTok{ .}\DecValTok{10}\NormalTok{, }\StringTok{\textquotesingle{}*\textquotesingle{}} \OtherTok{=}\NormalTok{ .}\DecValTok{05}\NormalTok{, }\StringTok{\textquotesingle{}**\textquotesingle{}} \OtherTok{=}\NormalTok{ .}\DecValTok{01}\NormalTok{),}
                           \AttributeTok{coef\_map =}\NormalTok{ coefs,}
                           \AttributeTok{coef\_omit =} \StringTok{"Intercept"}\NormalTok{,}
                           \AttributeTok{gof\_map =} \FunctionTok{c}\NormalTok{(}\StringTok{"nobs"}\NormalTok{, }\StringTok{"r.squared"}\NormalTok{, }\StringTok{\textquotesingle{}adj.r.squared\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}r2.marginal\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}r2.conditional\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}aic\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}bic\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rmse\textquotesingle{}}\NormalTok{),}
                           \AttributeTok{output =} \StringTok{"tinytable"}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  tinytable}\SpecialCharTok{::}\FunctionTok{group\_tt}\NormalTok{(}\AttributeTok{j =} \FunctionTok{list}\NormalTok{(}\StringTok{"Year polynomials"} \OtherTok{=} \DecValTok{2}\SpecialCharTok{:}\DecValTok{3}\NormalTok{, }\StringTok{"Year fixed effects"} \OtherTok{=} \DecValTok{4}\SpecialCharTok{:}\DecValTok{5}\NormalTok{, }\StringTok{"Multilevel model"} \OtherTok{=} \DecValTok{6}\SpecialCharTok{:}\DecValTok{7}\NormalTok{)) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  tinytable}\SpecialCharTok{::}\FunctionTok{theme\_tt}\NormalTok{(}\StringTok{"resize"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{table}
\centering
\resizebox{\ifdim\width>\linewidth 1\linewidth\else\width\fi}{!}{
\begin{talltblr}[         %% tabularray outer open
entry=none,label=none,
note{}={+ p < 0.1, * p < 0.05, ** p < 0.01},
]                     %% tabularray outer close
{                     %% tabularray inner open
colspec={Q[]Q[]Q[]Q[]Q[]Q[]Q[]},
cell{1}{2}={c=2,}{halign=c,},
cell{1}{4}={c=2,}{halign=c,},
cell{1}{6}={c=2,}{halign=c,},
column{1}={halign=l,},
column{2}={halign=c,},
column{3}={halign=c,},
column{4}={halign=c,},
column{5}={halign=c,},
column{6}={halign=c,},
column{7}={halign=c,},
hline{21}={1,2,3,4,5,6,7}{solid, 0.05em, black},
}                     %% tabularray inner close
\toprule
& Year polynomials &  & Year fixed effects &  & Multilevel model &  \\ \cmidrule[lr]{2-3}\cmidrule[lr]{4-5}\cmidrule[lr]{6-7}
& (1) & (2) & (3) & (4) & (5) & (6) \\ \midrule %% TinyTableHeader
Strategic compatibility       & 0.186** & 0.153*  & 0.192** & 0.165*  & 0.197** & 0.168**  \\
& (0.046) & (0.061) & (0.048) & (0.064) & (0.019) & (0.024)  \\
Hierarchy                     & 0.403** & 0.320** & 0.397** & 0.313*  & 0.396** & 0.327**  \\
& (0.067) & (0.119) & (0.067) & (0.121) & (0.021) & (0.039)  \\
Alliance institutionalization &         & 0.039*  &         & 0.039*  &         & 0.035**  \\
&         & (0.017) &         & (0.017) &         & (0.006)  \\
Democracy ratio               &         & 0.118*  &         & 0.116*  &         & 0.116**  \\
&         & (0.046) &         & (0.047) &         & (0.017)  \\
Contiguity ratio              &         & -0.127  &         & -0.140  &         & -0.142** \\
&         & (0.106) &         & (0.106) &         & (0.045)  \\
Maximum distance (log)        &         & -0.025+ &         & -0.026+ &         & -0.026** \\
&         & (0.015) &         & (0.015) &         & (0.006)  \\
Number of rivals (log)        &         & 0.064*  &         & 0.060*  &         & 0.066**  \\
&         & (0.027) &         & (0.027) &         & (0.009)  \\
Number of members (log)       &         & -0.029  &         & -0.027  &         & -0.031** \\
&         & (0.019) &         & (0.019) &         & (0.008)  \\
Alliance age (average)        &         & 0.000   &         & 0.000   &         & 0.000    \\
&         & (0.001) &         & (0.001) &         & (0.000)  \\
Num.Obs.                      & 2398    & 2280    & 2398    & 2280    & 2398    & 2280     \\
R2                            & 0.206   & 0.284   & 0.232   & 0.307   &         &          \\
R2 Adj.                       & 0.204   & 0.281   & 0.217   & 0.290   &         &          \\
R2 Marg.                      &         &         &         &         & 0.127   & 0.201    \\
R2 Cond.                      &         &         &         &         & 0.217   & 0.289    \\
AIC                           & -226.4  & -482.2  & -226.2  & -472.2  & -158.4  & -341.9   \\
BIC                           & -191.8  & -407.7  & 45.5    & -162.7  & -129.4  & -273.1   \\
RMSE                          & 0.23    & 0.22    & 0.23    & 0.21    & 0.23    & 0.21     \\
\bottomrule
\end{talltblr}
}
\end{table}

\newpage

\subsection{Figure 4 (in-text results)}\label{figure-4-in-text-results}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\NormalTok{m1\_obr }\OtherTok{\textless{}{-}}\NormalTok{ ordbetareg}\SpecialCharTok{::}\FunctionTok{ordbetareg}\NormalTok{(dv }\SpecialCharTok{\textasciitilde{}} 
\NormalTok{                                   strcomp }\SpecialCharTok{+}\NormalTok{ hier }\SpecialCharTok{+} 
\NormalTok{                                   milinst }\SpecialCharTok{+}\NormalTok{ latent.depth.mean }\SpecialCharTok{+}\NormalTok{ demo\_polityprop }\SpecialCharTok{+}\NormalTok{ dist\_contigprop }\SpecialCharTok{+}\NormalTok{ dist\_maxlog }\SpecialCharTok{+}\NormalTok{ rivals\_log }\SpecialCharTok{+}\NormalTok{ members\_log }\SpecialCharTok{+}\NormalTok{ allianceage\_avg }\SpecialCharTok{+}
\NormalTok{                                   (}\DecValTok{1} \SpecialCharTok{|}\NormalTok{ year\_norm),}
                                 \AttributeTok{data =}\NormalTok{ df\_m1,}
                                 \AttributeTok{cores =} \DecValTok{6}\NormalTok{,}
                                 \AttributeTok{chains =} \DecValTok{6}\NormalTok{,}
                                 \AttributeTok{iter =} \DecValTok{2000}\NormalTok{,}
                                 \AttributeTok{backend =} \StringTok{"cmdstanr"}\NormalTok{,}
                                 \AttributeTok{refresh =} \DecValTok{0}\NormalTok{,}
                                 \AttributeTok{file =} \StringTok{"ordbeta"}\NormalTok{,}
                                 \AttributeTok{file\_refit =} \StringTok{"on\_change"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Warning: Rows containing NAs were excluded from the model.
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\NormalTok{ordpred\_strcomp }\OtherTok{\textless{}{-}}\NormalTok{ brms}\SpecialCharTok{::}\FunctionTok{conditional\_effects}\NormalTok{(m1\_obr)[[}\DecValTok{1}\NormalTok{]]}
\NormalTok{ordpred\_hier }\OtherTok{\textless{}{-}}\NormalTok{ brms}\SpecialCharTok{::}\FunctionTok{conditional\_effects}\NormalTok{(m1\_obr)[[}\DecValTok{2}\NormalTok{]]}

\CommentTok{\# Figure 4(a) in{-}text description}
\NormalTok{marginaleffects}\SpecialCharTok{::}\FunctionTok{avg\_comparisons}\NormalTok{(m1\_obr, }\AttributeTok{variables =} \FunctionTok{list}\NormalTok{(}\AttributeTok{strcomp =} \StringTok{"sd"}\NormalTok{)) }\SpecialCharTok{|\textgreater{}}\NormalTok{ broom}\SpecialCharTok{::}\FunctionTok{tidy}\NormalTok{() }\SpecialCharTok{|\textgreater{}}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{pull}\NormalTok{(estimate) }\SpecialCharTok{|\textgreater{}} \FunctionTok{round}\NormalTok{(}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\NormalTok{[1] 0.039}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\CommentTok{\# Figure 4(b) in{-}text description}
\NormalTok{marginaleffects}\SpecialCharTok{::}\FunctionTok{avg\_comparisons}\NormalTok{(m1\_obr, }\AttributeTok{variables =} \FunctionTok{list}\NormalTok{(}\AttributeTok{hier =} \StringTok{"sd"}\NormalTok{)) }\SpecialCharTok{|\textgreater{}}\NormalTok{ broom}\SpecialCharTok{::}\FunctionTok{tidy}\NormalTok{() }\SpecialCharTok{|\textgreater{}}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{pull}\NormalTok{(estimate) }\SpecialCharTok{|\textgreater{}} \FunctionTok{round}\NormalTok{(}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\NormalTok{[1] 0.083}
\end{Highlighting}
\end{Shaded}

\newpage

\subsection{Figure 4}\label{figure-4}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\CommentTok{\# Strategic compatibility predicted values with example}
\NormalTok{ex\_strcomp }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{filter}\NormalTok{(year }\SpecialCharTok{\%in\%} \FunctionTok{c}\NormalTok{(}\DecValTok{1992}\NormalTok{, }\DecValTok{2011}\NormalTok{), atopid }\SpecialCharTok{==} \DecValTok{3375}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(year, atopid, dol\_nicheolap, strcomp\_cinc\_total\_scaled) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{year =}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{recode}\NormalTok{(year, }\StringTok{"1992"} \OtherTok{=} \StringTok{"US{-}Philippines (1992)"}\NormalTok{, }\StringTok{"2011"} \OtherTok{=} \StringTok{"US{-}Philippines (2011)"}\NormalTok{))}

\NormalTok{ordpred\_strcomp }\SpecialCharTok{|\textgreater{}}  
  \FunctionTok{ggplot}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{y =}\NormalTok{ estimate\_\_, }\AttributeTok{x =}\NormalTok{ strcomp)) }\SpecialCharTok{+}
  \FunctionTok{geom\_ribbon}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{ymin =}\NormalTok{ lower\_\_,}
                  \AttributeTok{ymax =}\NormalTok{ upper\_\_), }\AttributeTok{fill=}\StringTok{"blue"}\NormalTok{,}
              \AttributeTok{alpha =} \FloatTok{0.5}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_hline}\NormalTok{(}\AttributeTok{yintercept =} \DecValTok{1}\NormalTok{, }\AttributeTok{linetype =} \DecValTok{2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_hline}\NormalTok{(}\AttributeTok{yintercept =} \DecValTok{0}\NormalTok{, }\AttributeTok{linetype =} \DecValTok{2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_line}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{data =}\NormalTok{ ex\_strcomp, }
             \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ strcomp\_cinc\_total\_scaled, }\AttributeTok{y =}\NormalTok{ dol\_nicheolap), }
             \AttributeTok{size =} \DecValTok{1}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_text}\NormalTok{(}\AttributeTok{data =}\NormalTok{ ex\_strcomp, }
            \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ strcomp\_cinc\_total\_scaled }\SpecialCharTok{{-}} \FloatTok{0.1}\NormalTok{, }\AttributeTok{y =}\NormalTok{ dol\_nicheolap, }\AttributeTok{label =}\NormalTok{ year), }
            \AttributeTok{vjust =} \SpecialCharTok{{-}}\DecValTok{1}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_classic}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{text =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{15}\NormalTok{),}
        \AttributeTok{axis.text =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{color =} \StringTok{"black"}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{y =} \StringTok{"Division of labor}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{,}
       \AttributeTok{x =} \StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{Strategic compatibility"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{DoDL_replication_files/figure-pdf/fig4-1.png}

\begin{Shaded}
\begin{Highlighting}[numbers=left,,]
\CommentTok{\# Hierarchy predicted values with example}
\NormalTok{ex\_hier }\OtherTok{\textless{}{-}}\NormalTok{ df }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{filter}\NormalTok{(year }\SpecialCharTok{\%in\%} \FunctionTok{c}\NormalTok{(}\DecValTok{1975}\NormalTok{, }\DecValTok{2000}\NormalTok{) }\SpecialCharTok{\&}\NormalTok{ atopid }\SpecialCharTok{==} \DecValTok{3180}\NormalTok{) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{select}\NormalTok{(year, dol\_nicheolap, hier\_laplace\_scaled) }\SpecialCharTok{|\textgreater{}}
\NormalTok{  dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{year =}\NormalTok{ dplyr}\SpecialCharTok{::}\FunctionTok{recode}\NormalTok{(year,}
                                       \StringTok{"1975"} \OtherTok{=} \StringTok{"NATO (1975)"}\NormalTok{,}
                                       \StringTok{"2000"} \OtherTok{=} \StringTok{"NATO (2000)"}\NormalTok{))}

\NormalTok{ordpred\_hier }\SpecialCharTok{|\textgreater{}}
  \FunctionTok{ggplot}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{y =}\NormalTok{ estimate\_\_, }\AttributeTok{x =}\NormalTok{ hier)) }\SpecialCharTok{+}
  \FunctionTok{geom\_ribbon}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{ymin =}\NormalTok{ lower\_\_,}
                  \AttributeTok{ymax =}\NormalTok{ upper\_\_), }\AttributeTok{fill=}\StringTok{"blue"}\NormalTok{,}
              \AttributeTok{alpha =} \FloatTok{0.5}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_hline}\NormalTok{(}\AttributeTok{yintercept =} \DecValTok{1}\NormalTok{, }\AttributeTok{linetype =} \DecValTok{2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_hline}\NormalTok{(}\AttributeTok{yintercept =} \DecValTok{0}\NormalTok{, }\AttributeTok{linetype =} \DecValTok{2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_line}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{data =}\NormalTok{ ex\_hier, }
             \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ hier\_laplace\_scaled, }\AttributeTok{y =}\NormalTok{ dol\_nicheolap), }
             \AttributeTok{size =} \DecValTok{1}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_text}\NormalTok{(}\AttributeTok{data =}\NormalTok{ ex\_hier, }
            \FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ hier\_laplace\_scaled, }\AttributeTok{y =}\NormalTok{ dol\_nicheolap, }\AttributeTok{label =}\NormalTok{ year), }
            \AttributeTok{vjust =} \DecValTok{2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_classic}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{text =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{15}\NormalTok{),}
        \AttributeTok{axis.text =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{color =} \StringTok{"black"}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{y =} \StringTok{"Division of labor}\SpecialCharTok{\textbackslash{}n}\StringTok{"}\NormalTok{,}
       \AttributeTok{x =} \StringTok{"}\SpecialCharTok{\textbackslash{}n}\StringTok{Hierarchy"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{DoDL_replication_files/figure-pdf/fig4-2.png}




\end{document}
